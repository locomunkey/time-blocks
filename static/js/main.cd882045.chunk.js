(this.webpackJsonpinterrupts=this.webpackJsonpinterrupts||[]).push([[0],{25:function(e,t,n){"use strict";var a=n(0),r=n.n(a).a.createContext({});t.a=r},32:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),l=n(33),s=function(e){var t=e.progressPercent,n=e.marks;return r.a.createElement("div",{style:{position:"relative",height:13,width:13,marginRight:2,marginTop:2,backgroundColor:"gray"}},r.a.createElement("div",{style:{width:"".concat(Math.max(Math.ceil(t),3),"%"),backgroundColor:"rgb(97,196,85)",height:"100%"}}),n&&n.map((function(e){return r.a.createElement("div",{style:{position:"absolute",left:"".concat(e,"%"),height:"100%",width:2,top:0,backgroundColor:"red"}})})))},c=function(e){return 100-(60*e.hours+e.minutes+e.seconds/60)/60*100},i=function(e){var t=e.block,n=e.isGoal;return t&&!t.completed?r.a.createElement(s,{progressPercent:c(t),isGoal:n}):r.a.createElement(o.a,{style:{width:13,height:13,marginRight:2,marginTop:2,backgroundColor:t?"rgb(97,196,85)":"gray"}})};t.a=function(e){var t=e.earnedBlocks,n=e.currentBlock,a=e.goal,s=Math.max(l.a.getTodaysBlockGoal(a)-t.length-(n?1:0),0);return r.a.createElement(o.a,{style:{display:"flex",flexWrap:"wrap",flexDirection:"row"}},t.map((function(e){return r.a.createElement(i,{block:e})})),n&&r.a.createElement(i,{block:n,isGoal:s-1>0}),Array.from(new Array(s)).map((function(){return r.a.createElement(i,{isGoal:!0})})))}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4),r=n(9),o=n(10),l=n(2),s=n.n(l),c=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"getTodaysBlockGoal",value:function(e){if(!e)return 0;var t=e;null!==e.everyday&&(t=Object(a.a)({},t,{mon:e.everyday,tue:e.everyday,wed:e.everyday,thu:e.everyday,fri:e.everyday,sat:e.everyday,sun:e.everyday})),null!==e.weekdays&&(t=Object(a.a)({},t,{mon:e.weekdays,tue:e.weekdays,wed:e.weekdays,thu:e.weekdays,fri:e.weekdays})),null!==e.weekends&&(t=Object(a.a)({},t,{sat:e.weekends,sun:e.weekends}));var n=s()().format("ddd").toLowerCase(),r=parseInt(t[n]);return isNaN(r)?0:r}}]),e}()},59:function(e,t,n){"use strict";(function(e){var a=n(3),r=n.n(a),o=n(4),l=n(12),s=n(9),c=n(10),i=n(15),u=n(16),d=n(0),m=n.n(d),f=n(5),h=n(105),g=n(55),y=n(2),p=n.n(y),b=n(30),k=n(17),v=(n(91),n(78)),w=n(80),E=n(79),C=n(25),x={apiKey:"AIzaSyCBZrwH6IoMDo-jW2Ydu00z0FJMK3wQdTI",authDomain:"timeblocks-bb1cc.firebaseapp.com",databaseURL:"https://timeblocks-bb1cc.firebaseio.com",projectId:"timeblocks-bb1cc",storageBucket:"timeblocks-bb1cc.appspot.com",messagingSenderId:"689367456633",appId:"1:689367456633:web:6cb0b27d54e4c45f9bada8",measurementId:"G-92KBT48GWG"},_=function(t){Object(u.a)(a,t);var n=Object(i.a)(a);function a(){var t;Object(s.a)(this,a);for(var c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];return(t=n.call.apply(n,[this].concat(i))).firebase=e.firebase,t.render=function(){return m.a.createElement(C.a.Provider,{value:{remoteService:{fetchBlocks:t._fetchBlocks,fetchGoals:t._fetchGoals,updateGoal:t._updateGoal,addTimeBlock:t._addTimeBlock}}},m.a.createElement("div",{className:"App"},m.a.createElement("div",{className:"App-header"},m.a.createElement(b.a,{basename:"time-blocks"},m.a.createElement(f.a,{style:{height:h.a.get("window").height-60,width:"100%",display:"flex",alignItems:"center"}},m.a.createElement(k.c,null,m.a.createElement(k.a,{path:"/log"},m.a.createElement(E.a,null)),m.a.createElement(k.a,{path:"/goals"},m.a.createElement(w.a,null)),m.a.createElement(k.a,{path:"/"},m.a.createElement(v.a,null)))),m.a.createElement(f.a,{style:{borderTop:"1px solid rgb(38,38,38)",width:"100%",position:"absolute",bottom:0,backgroundColor:"black",height:60,display:"flex",alignItems:"center"}},m.a.createElement(f.a,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},m.a.createElement(b.b,{to:"log".concat(window.location.search)},m.a.createElement(f.a,{style:{height:"100%",paddingHorizontal:10,width:70}},m.a.createElement(g.a,{style:{color:"#999999",fontSize:14}},"Log"))),m.a.createElement(b.b,{to:"/".concat(window.location.search)},m.a.createElement(f.a,{style:{height:"100%",paddingHorizontal:10,width:70}},m.a.createElement(g.a,{style:{color:"#999999",fontSize:14}},"Focus"))),m.a.createElement(b.b,{to:"goals".concat(window.location.search)},m.a.createElement(f.a,{style:{height:"100%",paddingHorizontal:10,width:70}},m.a.createElement(g.a,{style:{color:"#999999",fontSize:14}},"Goals")))))))))},t._fetchBlocks=Object(l.a)(r.a.mark((function e(){var n,a,l,s,c,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="DD MM YYYY",!t.firebase){e.next=15;break}return a=[],l=t.firebase.firestore().collection("blocks"),s=t._getUsername(),e.next=7,s?l.where("username","==",s).get():l.get();case 7:return e.sent.forEach((function(e){return a.push(Object(o.a)({id:e.id},e.data()))})),console.log("Log: Fetched ".concat(a.length," blocks"),a),c=a.filter((function(e){return p()(p()(e.startTime).format(n)).isSame(p()().format(n))})),i=a.filter((function(e){return!e.completed})),u=a.filter((function(e){return e.completed})),console.log("Log: Filtered ".concat(u.length," earned blocks"),u),e.abrupt("return",{startedBlocks:i,earnedBlocks:u,todaysBlocks:c});case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)}))),t._fetchGoals=Object(l.a)(r.a.mark((function e(){var n,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.firebase){e.next=10;break}return n=[],a=t.firebase.firestore().collection("goals"),l=t._getUsername(),e.next=6,l?a.where("username","==",l).get():a.get();case 6:return e.sent.forEach((function(e){return n.push(Object(o.a)({id:e.id},e.data()))})),console.log("Log: Fetched ".concat(n.length," goals"),n),e.abrupt("return",n);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)}))),t._addTimeBlock=function(e){var n=t._getUsername();t.firebase&&t.firebase.firestore().collection("blocks").add(Object(o.a)({},e,{username:n}))},t._updateGoal=function(){var e=Object(l.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.firebase){e.next=4;break}return a=t._getUsername(),e.next=4,t.firebase.firestore().collection("goals").doc(n.id).update(Object(o.a)({},n,{username:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._getUsername=function(){return new URLSearchParams(window.location.search).get("username")},t}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.firebase.initializeApp(x),this.firebase.analytics()}}]),a}(m.a.Component);t.a=_}).call(this,n(56))},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(4),r=n(3),o=n.n(r),l=n(12),s=n(9),c=n(10),i=n(15),u=n(16),d=n(0),m=n.n(d),f=n(2),h=n.n(f),g=n(5),y=n(55),p=n(107),b=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).intervalTimer=null,a.componentDidMount=function(){a.intervalTimer||(a.intervalTimer=setInterval(a._onIntervalFire,1e3))},a.componentWillUnmount=function(){return clearInterval(a.intervalTimer)},a._onIntervalFire=function(){var e=a.state,t=e.hours,n=e.minutes,r=e.seconds,o=e.running,l=a.props,s=l.onFinish,c=l.isCountUp,i=l.onTick;if(o){var u=c?function(e,t,n){if(59===n)return 59===t?59===e?null:{hours:e+1,minutes:0,seconds:0}:{hours:e,minutes:t+1,seconds:0};return{hours:e,minutes:t,seconds:n+1}}(t,n,r):function(e,t,n){if(0===n)return 0===t?0===e?null:{hours:e-1,minutes:59,seconds:59}:{hours:e,minutes:t-1,seconds:59};return{hours:e,minutes:t,seconds:n-1}}(t,n,r);u||(a.setState({running:!1}),s&&s()),a.setState({hours:u.hours,minutes:u.minutes,seconds:u.seconds},(function(){var e=a.state,t=e.hours,n=e.minutes,r=e.seconds;i&&i(t,n,r)}))}};var r=e.hours,o=e.minutes,l=e.seconds;return a.state={hours:r,minutes:o,seconds:l,running:!1},a}return Object(c.a)(n,[{key:"pad",value:function(e,t){return t=t||"0",(e+="").length>=2?e:new Array(2-e.length+1).join(t)+e}},{key:"render",value:function(){var e=this.state,t=e.hours,n=e.minutes,r=e.seconds,o={color:"#ccc"};return m.a.createElement("div",{style:{marginTop:20,marginBottom:10}},m.a.createElement("span",{style:this.props.small?Object(a.a)({fontSize:20},o):Object(a.a)({fontSize:40},o)},this.pad(t)," : ",this.pad(n)," : ",this.pad(r)))}}]),n}(m.a.Component);b.getDerivedStateFromProps=function(e){var t=e.hours,n=e.minutes,a=e.seconds,r=e.running,o=e.paused;return r||o?{running:r}:{hours:t,minutes:n,seconds:a,running:r}};var k=n(32),v=n(33),w=n(30),E=n(17),C=function(e){var t=e.onTimerTick,n=e.onTimerModify,a=e.onTimerFinish,r=e.onTimerStart,o=e.onTimerStop,l=e.running,s=e.earnedBlocks,c=e.currentBlock,i=e.goal;return m.a.createElement(g.a,{style:{display:"flex",flexDirection:"column",maxWidth:267,backgroundColor:"black",height:"100%",alignItems:"center",justifyContent:"center"}},m.a.createElement(g.a,{style:{paddingHorizontal:20,border:"1px solid rgb(38,38,38)",paddingBottom:15,paddingTop:5,minHeight:177}},m.a.createElement(b,{hours:1,minutes:0,seconds:0,running:l,paused:!1,onTick:t,onModify:n,onFinish:a}),m.a.createElement(y.a,{style:{color:"#999999",textAlign:"left",fontStyle:"oblique",fontSize:13}},"Focus on your task for 1 hour to earn ",m.a.createElement(y.a,{style:{color:"white",fontStyle:"oblique"}},"1 block"),m.a.createElement(y.a,{style:{fontWeight:"bold",color:"white",fontStyle:"normal"}}," ( "),m.a.createElement(g.a,{style:{height:10,width:10,backgroundColor:"rgb(97,196,85)"}}),m.a.createElement(y.a,{style:{fontWeight:"bold",color:"white",fontStyle:"normal"}}," )")),m.a.createElement(g.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10}},m.a.createElement(y.a,{style:{color:"#999999"}},"Today's Goal ( "),m.a.createElement(w.b,{to:"/goals".concat(Object(E.f)().search),style:{marginBottom:5}},m.a.createElement(y.a,{style:{color:"rgb(209,63,87)"}},"Set")),m.a.createElement(y.a,{style:{color:"#999999"}}," )")),m.a.createElement(g.a,{style:{display:"flex",height:50,justifyContent:"center",alignItems:"center"}},l||0!==v.a.getTodaysBlockGoal(i)?m.a.createElement(k.a,{earnedBlocks:s,currentBlock:c,goal:i}):m.a.createElement(g.a,{style:{width:"100%",justifyContent:"center"}},m.a.createElement(y.a,{style:{color:"#999999"}},"No goal")))),m.a.createElement(g.a,{style:{marginVertical:40}},m.a.createElement(p.a,{style:{backgroundColor:l?"rgb(28,35,54)":"rgb(209,63,87)",borderRadius:80,width:80,height:80,display:"flex",justifyContent:"center",shadowColor:"rgba(0,0,0, .4)",shadowOffset:{height:1,width:1},shadowOpacity:1,shadowRadius:1,elevation:2},onPress:l?o:r},m.a.createElement(y.a,{style:{fontWeight:"bold",marginBottom:2,color:"white"}},l?"Give up":"Start"))))},x=n(25),_=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hours:1,minutes:0,seconds:0,running:!1,isDistracted:!1,currentBlock:null,setHours:1,setMinutes:0,setSeconds:0,earnedBlocks:[],goal:null,dHours:0,dMinutes:0,dSeconds:0,distractions:[],workdayStartTime:null,workdayEndTime:null},e._getNumHourlyBlocksBetweenTimes=function(e,t){return h.a.duration(h()(t).diff(e)).asHours()},e._fetchBlocks=Object(l.a)(o.a.mark((function t(){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.remoteService,t.next=3,n.fetchBlocks();case 3:a=t.sent,(r=a.todaysBlocks)&&e.setState({earnedBlocks:r.filter((function(e){return e.completed}))});case 6:case"end":return t.stop()}}),t)}))),e._fetchGoals=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.remoteService,t.next=3,n.fetchGoals();case 3:(a=t.sent)&&a.length&&e.setState({goal:a[0]});case 5:case"end":return t.stop()}}),t)}))),e._startBlock=function(){var t=e.state,n=t.running,a=t.isDistracted,r=t.distractions;a||e.setState({running:!n,distractions:n?r:[],currentBlock:{hours:1,minutes:0,seconds:0,createdAt:h()().toISOString(),startTime:h()().toISOString(),endTime:null,completed:!1}})},e._endBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.state,r=a.hours,o=a.minutes,l=a.seconds;e.setState({running:!1,isDistracted:!1}),e._logTimeBlock(r,59-o,59-l,t,n)},e._onTimerTick=function(t,n,r){return e.setState({hours:t,minutes:n,seconds:r,currentBlock:Object(a.a)({},e.state.currentBlock,{hours:t,minutes:n,seconds:r})})},e._onTimerModify=function(t){var n=t.hours,a=t.minutes,r=t.seconds;return e.setState({hours:n,minutes:a,seconds:r,setHours:n,setMinutes:a,setSeconds:r})},e._onTimerFinish=function(){return e._endBlock(!0,!1)},e._renderEarnedBlocks=function(e){return m.a.createElement(k.a,{blocks:e})},e._logTimeBlock=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.state,c=s.setHours,i=s.setMinutes,u=s.setSeconds,d=s.currentBlock,m=s.goal,f=e.props.remoteService;f&&f.addTimeBlock(Object(a.a)({},d,{hours:c,minutes:i,seconds:u,elapsedHours:t,elapsedMinutes:n,elapsedSeconds:r,goal:m,endTime:h()().toISOString(),distractions:e.state.distractions,completed:o,stopped:l}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this._fetchBlocks(),this._fetchGoals()}},{key:"render",value:function(){var e=this,t=this.state,n=t.running,a=t.currentBlock,r=t.earnedBlocks,o=t.goal;return m.a.createElement(C,{onTimerStart:this._startBlock,onTimerStop:function(){return e._endBlock(!1,!0)},onTimerTick:this._onTimerTick,onTimerModify:this._onTimerModify,onTimerFinish:this._onTimerFinish,running:n,currentBlock:a,earnedBlocks:r,goal:o})}}]),n}(m.a.Component),S=function(e){return m.a.createElement(x.a.Consumer,null,(function(t){var n=t.remoteService;return m.a.createElement(_,Object.assign({},e,{remoteService:n}))}))}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(54),r=n(77),o=n(3),l=n.n(o),s=n(12),c=n(9),i=n(10),u=n(15),d=n(16),m=n(0),f=n.n(m),h=n(2),g=n.n(h),y=n(5),p=n(55),b=n(25),k=n(105),v=n(32),w=n(33),E=function(e){var t=e.day,n=e.goal,a=t.blocks.filter((function(e){return e.completed})),r=1*a.length,o=w.a.getTodaysBlockGoal(n),l=t.blocks&&t.blocks.length>0?r/(o>0?o:1)*100:0;return f.a.createElement(y.a,{style:{height:90,borderBottom:"1px solid rgb(38,38,38)",paddingTop:10,width:"100%",display:"flex",alignItems:"center",marginHorizontal:5}},f.a.createElement(y.a,{style:{maxWidth:267,height:"100%",width:"100%"}},f.a.createElement(y.a,{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},f.a.createElement(p.a,{style:{color:"white",fontSize:17}},g()(t.date).format("D MMMM YYYY")),f.a.createElement(p.a,{style:{color:"white",fontSize:10}},"Sessions: ",t.blocks&&t.blocks.length>0?t.blocks.length:"N/A")),f.a.createElement(y.a,{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",marginTop:10}},f.a.createElement(y.a,{style:{display:"flex",width:"75%"}},f.a.createElement(v.a,{earnedBlocks:a,goal:n})),f.a.createElement(y.a,{style:{display:"flex",alignItems:"center",marginLeft:5}},f.a.createElement(p.a,{style:{color:"white",fontSize:16}},l.toFixed(0),"%")))))},C=function(e){var t=e.days,n=e.goal;return f.a.createElement(y.a,{style:{display:"flex",flexDirection:"column",height:k.a.get("window").height-60,overflow:"scroll",width:"100%",alignItems:"center",backgroundColor:"black",paddingBottom:60}},t.map((function(e){return f.a.createElement(E,{day:e,goal:n})})))},x=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={startedBlocks:[],earnedBlocks:[],goal:null},e._fetchBlocks=Object(s.a)(l.a.mark((function t(){var n,a,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.props.remoteService)){t.next=8;break}return t.next=4,n.fetchBlocks();case 4:a=t.sent,r=a.startedBlocks,o=a.earnedBlocks,e.setState({startedBlocks:r,earnedBlocks:o});case 8:case"end":return t.stop()}}),t)}))),e._fetchGoal=Object(s.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.remoteService,t.next=3,n.fetchGoals();case 3:(a=t.sent)&&a.length>0&&e.setState({goal:a[0]});case 5:case"end":return t.stop()}}),t)}))),e._getDays=function(e){var t,n={},a=null,o=null,l=Object(r.a)(e);try{for(l.s();!(t=l.n()).done;){var s=t.value,c=g()(s.startTime),i=c.format("DD MM YYYY"),u=n[i];u?u.blocks.push(s):n[i]={date:s.startTime,blocks:[s]},a||(a=s.startTime),o||(o=s.startTime),c.isBefore(g()(a))&&(a=s.startTime),c.isAfter(g()(a))&&(o=s.startTime)}}catch(d){l.e(d)}finally{l.f()}return Object.keys(n).sort((function(e,t){return g()(e,"DD MM YYY")-g()(t,"DD MM YYYY")})).map((function(e){return n[e]}))},e._getContiguousDays=function(e,t){for(var n=[],a=g()(e);a.format("DD MM YYYY")!==g()(t).format("DD MM YYYY");)n.push(a.format("DD MM YYYY")),a=a.add(1,"days");return n},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._fetchBlocks(),this._fetchGoal();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.startedBlocks,n=e.earnedBlocks,r=e.goal;return f.a.createElement(y.a,{style:{width:"100%"}},f.a.createElement(p.a,{style:{color:"rgb(204, 204, 204)",fontSize:30,textAlign:"center",marginVertical:15,marginHorizontal:40,fontWeight:"bold"}},"Log"),f.a.createElement(C,{days:this._getDays([].concat(Object(a.a)(t),Object(a.a)(n))),goal:r}))}}]),n}(f.a.Component),_=function(e){return f.a.createElement(b.a.Consumer,null,(function(t){var n=t.remoteService;return f.a.createElement(x,Object.assign({},e,{remoteService:n}))}))}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(3),r=n.n(a),o=n(4),l=n(12),s=n(9),c=n(10),i=n(15),u=n(16),d=n(0),m=n.n(d),f=n(25),h=n(46),g=n(5),y=n(55),p=n(110),b=n(108),k=n(109),v=n(6),w="Everyday",E="WeekdayWeekend",C="Custom",x={mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Tuesday",fri:"Friday",sat:"Saturday",sun:"Sunday"},_=function(e){var t=e.blur,n=e.children;return m.a.createElement(g.a,{style:{opacity:t?.3:1}},n)},S=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r)))._onClearEveryday=function(){var t=e.props,n=t.onChangeGoal,a=t.onChangeGoalMode;n&&a?(a(null),n({everyday:null,mon:null,tue:null,wed:null,thu:null,fri:null,sat:null,sun:null})):console.log("Log _onClearEveryday: Props onChangeGoal and onChangeGoalMode are required")},e._onClearWeekdays=function(){var t=e.props,n=t.onChangeGoal,a=t.onChangeGoalMode;n&&a?(a(null),n({weekdays:null,mon:null,tue:null,wed:null,thu:null,fri:null})):console.log("Log _onClearWeekdays: Props onChangeGoal and onChangeGoalMode are required")},e._onClearWeekends=function(){var t=e.props,n=t.onChangeGoal,a=t.onChangeGoalMode;n&&a?(a(null),n({weekends:null,sat:null,sun:null})):console.log("Log _onClearWeekends: Props onChangeGoal and onChangeGoalMode are required")},e._onClickSection=function(t){var n=e.props.onChangeGoalMode;n&&n(t)},e._onClearCustom=function(){var t=e.props,n=t.onChangeGoal,a=t.onChangeGoalMode;n&&a?(n({mon:null,tue:null,wed:null,thu:null,fri:null,sat:null,sun:null}),a(null)):console.log("Log _onClearCustom: Props onChangeGoal and onChangeGoalMode are required")},e._renderDay=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props.goal;return m.a.createElement(g.a,{style:B.form},m.a.createElement(g.a,{style:B.formLabel},m.a.createElement(y.a,{style:B.text},x[t])),m.a.createElement(g.a,{style:B.formInput},e._renderTextInput(a[t],C,(function(n){return e._onSetValue(n,t)}),n)),m.a.createElement(g.a,{style:B.clearButton}))},e._renderTextInput=function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n===e.props.goalMode?m.a.createElement(p.a,{value:t,style:B.formTextInput,onChange:a,autoFocus:r,keyboardType:"numeric"}):m.a.createElement(y.a,{style:B.text},null!==t?t:"Not set")},e._onSetValue=function(t,n){var a=e.props.onChangeGoal;if(a){var r=t&&t.target&&t.target.value;if(n){var o=0===r.length||isNaN(parseInt(r))?null:parseInt(r);switch(n){case"everyday":a({everyday:o,mon:o,tue:o,wed:o,thu:o,fri:o,sat:o,sun:o});break;case"weekdays":a({weekdays:o,mon:o,tue:o,wed:o,thu:o,fri:o});break;case"weekends":a({weekends:o,sat:o,sun:o});break;default:a(Object(h.a)({},n,o))}}}},e._unsetAllWithOverride=function(t){return e.props.onChangeGoal&&e.props.onChangeGoal(Object(o.a)({everyday:null,weekdays:null,weekends:null},t||{}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.goalMode,a=t.goal,r=t.onChangeGoalMode,o=t.onSaveGoal;return m.a.createElement(b.a,{onPress:function(){return r(null)}},m.a.createElement(g.a,{style:{width:"100%"}},m.a.createElement(y.a,{style:{color:"rgb(204, 204, 204)",fontSize:30,textAlign:"center",marginVertical:15,marginHorizontal:40,fontWeight:"bold"}},"Log"),m.a.createElement(g.a,{style:{paddingTop:10,width:"100%",display:"flex",alignItems:"center",marginHorizontal:5}},m.a.createElement(g.a,{style:{maxWidth:267,height:"100%",width:"100%"}},m.a.createElement(_,{blur:n!==w},m.a.createElement(b.a,{onPress:function(){return e._onClickSection(w)}},m.a.createElement(g.a,{style:B.form},m.a.createElement(g.a,{style:B.formLabel},m.a.createElement(y.a,{style:B.text},"Everyday")),m.a.createElement(g.a,{style:B.formInput},this._renderTextInput(a.everyday,w,(function(t){return e._onSetValue(t,"everyday")}),!0)),m.a.createElement(k.a,{style:B.clearButton,onPress:this._onClearEveryday},m.a.createElement(y.a,{style:B.text},"Clear"))))),m.a.createElement(g.a,{style:{marginTop:10,marginBottom:10}},m.a.createElement(y.a,null,"OR")),m.a.createElement(_,{blur:n!==E},m.a.createElement(b.a,{onPress:function(){return e._onClickSection(E)}},m.a.createElement(g.a,null,m.a.createElement(g.a,{style:B.form},m.a.createElement(g.a,{style:B.formLabel},m.a.createElement(y.a,{style:B.text},"Weekdays")),m.a.createElement(g.a,{style:B.formInput},this._renderTextInput(a.weekdays,E,(function(t){return e._onSetValue(t,"weekdays")}),!0)),m.a.createElement(k.a,{style:B.clearButton,onPress:this._onClearWeekdays},m.a.createElement(y.a,{style:B.text},"Clear"))),m.a.createElement(g.a,{style:B.form},m.a.createElement(g.a,{style:B.formLabel},m.a.createElement(y.a,{style:B.text},"Weekends")),m.a.createElement(g.a,{style:B.formInput},this._renderTextInput(a.weekends,E,(function(t){return e._onSetValue(t,"weekends")}))),m.a.createElement(k.a,{style:B.clearButton,onPress:this._onClearWeekends},m.a.createElement(y.a,{style:B.text},"Clear")))))),m.a.createElement(g.a,{style:{width:"100%",height:1,borderBottom:"1px solid black",marginTop:10}}),m.a.createElement(b.a,{onPress:function(){return e._onClickSection(C)}},m.a.createElement(g.a,null,m.a.createElement(g.a,{style:{display:"flex",flexDirection:"row",marginVertical:10,justifyContent:"center",position:"relative"}},m.a.createElement(y.a,{style:B.text},"Set Goals"),m.a.createElement(k.a,{style:{position:"absolute",right:0,width:"20%"},onPress:this._onClearCustom},m.a.createElement(y.a,{style:B.text},"Clear"))),m.a.createElement(g.a,null,this._renderDay("mon",!0),this._renderDay("tue"),this._renderDay("wed"),this._renderDay("thu"),this._renderDay("fri"),this._renderDay("sat"),this._renderDay("sun")))),m.a.createElement(k.a,{style:{marginVertical:30},onPress:o},m.a.createElement(g.a,{style:{backgroundColor:"rgb(209,63,87)",paddingVertical:5}},m.a.createElement(y.a,{style:B.text},"Save")))))))}}]),n}(m.a.Component),B=v.a.create({container:{display:"flex",flexDirection:"column",width:267,height:"100%",backgroundColor:"black",paddingVertical:20},titleText:{color:"white",fontSize:26,marginVertical:10},form:{display:"flex",flexDirection:"row",justifyContent:"center"},formLabel:{width:"50%",textAlign:"left",paddingLeft:10},formInput:{width:"30%",paddingRight:10},clearButton:{width:"20%"},formTextInput:{color:"white",textAlign:"center",borderBottom:"1px solid black"},text:{color:"white"}}),T=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={goals:[],id:null,goalMode:null,everyday:null,weekdays:null,weekends:null,mon:null,tue:null,wed:null,thu:null,fri:null,sat:null,sun:null},e.render=function(){var t=e.state,n=t.goalMode,a=t.everyday,r=t.weekdays,o=t.weekends,l=t.mon,s=t.tue,c=t.wed,i=t.thu,u=t.fri,d=t.sat,f=t.sun;return m.a.createElement(S,{goalMode:n,goal:{everyday:a,weekdays:r,weekends:o,mon:l,tue:s,wed:c,thu:i,fri:u,sat:d,sun:f},onChangeGoal:e._onChangeGoal,onChangeGoalMode:e._onChangeGoalMode,onSaveGoal:e._onSaveGoal})},e._getCurrentGoal=function(){return{id:e.state.id,everyday:e.state.everyday,weekdays:e.state.weekdays,weekends:e.state.weekends,mon:e.state.mon,tue:e.state.tue,wed:e.state.wed,thu:e.state.thu,fri:e.state.fri,sat:e.state.sat,sun:e.state.sun}},e._onSaveGoal=function(){var t=e.props.remoteService;t&&(console.log("Devan",e._getCurrentGoal()),t.updateGoal(e._getCurrentGoal()))},e._fetchGoals=Object(l.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.props.remoteService)){t.next=6;break}return t.next=4,n.fetchGoals();case 4:(a=t.sent)&&a.length>0&&e.setState(Object(o.a)({goals:a},a[0]));case 6:case"end":return t.stop()}}),t)}))),e._onChangeGoalMode=function(t){return e.setState({goalMode:t})},e._onChangeGoal=function(t){return e.setState(Object(o.a)({},t))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this._fetchGoals()}}]),n}(m.a.Component),j=function(e){return m.a.createElement(f.a.Consumer,null,(function(t){var n=t.remoteService;return m.a.createElement(T,Object.assign({},e,{remoteService:n}))}))}},82:function(e,t,n){e.exports=n(83)},83:function(e,t,n){"use strict";n.r(t);n(0),n(19),n(88);var a=n(59),r=n(81);r.a.registerComponent("App",(function(){return a.a})),r.a.runApplication("App",{initialProps:{},rootTag:document.getElementById("root")})},88:function(e,t,n){},91:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.cd882045.chunk.js.map